# InterReview

> é¢å‘å€™é€‰äººçš„ AI é¢è¯•å¤ç›˜å·¥ä½œå°ï¼šæŠŠå½•éŸ³/æ–‡å­—ç¨¿ä¸Šä¼ åˆ°äº‘ç«¯ï¼Œè‡ªåŠ¨å®Œæˆè½¬å†™ã€åˆ†æã€æ€»ç»“ã€è¿½é—®å’Œå¯¼å‡ºï¼Œå¸®åŠ©å›¢é˜Ÿå¿«é€Ÿå®šä½é—®é¢˜ã€æ²‰æ·€çŸ¥è¯†ã€‚

# ğŸš€ InterReviewï¼šä¸€ä¸ªé¢å‘ç¨‹åºå‘˜çš„ã€Œé¢è¯•å¤ç›˜æ™ºèƒ½ä½“ã€
### â€”â€” è¯šé‚€ä½ ä¸€èµ·å…±å»º

> é¢è¯•ç»“æŸåï¼Œä½ çœŸçš„çŸ¥é“è‡ªå·±å“ªé‡Œåšå¾—å¥½ã€å“ªé‡Œè¯¥æ”¹å—ï¼Ÿ

**InterReview** æ˜¯ä¸€ä¸ªæ­£åœ¨ç§¯æå¼€å‘ä¸­çš„å¼€æºé¡¹ç›®ï¼Œç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ª**é¢å‘æŠ€æœ¯é¢è¯•åœºæ™¯çš„æ™ºèƒ½å¤ç›˜ä¸åˆ†æç³»ç»Ÿ**ï¼Œå¸®åŠ©æ±‚èŒè€…æŠŠã€Œä¸€æ¬¡æ¨¡ç³Šçš„é¢è¯•ä½“éªŒã€è½¬åŒ–ä¸º**å¯å¤ç›˜ã€å¯æ”¹è¿›ã€å¯ç§¯ç´¯çš„èƒ½åŠ›èµ„äº§**ã€‚

æˆ‘ä»¬å¸Œæœ›å®ƒä¸æ˜¯ä¸€ä¸ªâ€œé¢ç»ç”Ÿæˆå™¨â€ï¼Œè€Œæ˜¯ä¸€ä¸ª**çœŸæ­£èƒ½å¸®ä½ è¿›æ­¥çš„å·¥ç¨‹çº§å·¥å…·**ã€‚

ğŸ‘‰ GitHub ä»“åº“ï¼š  
https://github.com/xiangruihu/InterReview

---

## ğŸ¯ é¡¹ç›®æ„¿æ™¯ï¼ˆWhyï¼‰

å½“å‰å¤§é‡é¢è¯•ç›¸å…³å·¥å…·å­˜åœ¨å‡ ä¸ªé—®é¢˜ï¼š

- âŒ åªç»™ç»“è®ºï¼Œä¸ç»™**è¿‡ç¨‹åˆ†æ**
- âŒ æ³›æ³›è€Œè°ˆï¼Œç¼ºä¹**ä¸ªä½“ä¸Šä¸‹æ–‡**
- âŒ æ— æ³•ç§¯ç´¯é•¿æœŸèƒ½åŠ›ç”»åƒ
- âŒ æ›´åƒå†…å®¹äº§å“ï¼Œè€Œä¸æ˜¯**å¯æ¼”è¿›ç³»ç»Ÿ**

**InterReview æƒ³åšçš„æ˜¯ï¼š**

> æŠŠã€Œé¢è¯•å¤ç›˜ã€å˜æˆä¸€ä»¶**å·¥ç¨‹åŒ–ã€å¯ç§¯ç´¯ã€å¯æ¼”è¿›**çš„äº‹æƒ…ã€‚

---

## ğŸ§  æ ¸å¿ƒåŠŸèƒ½è§„åˆ’ï¼ˆWhatï¼‰

ç›®å‰ InterReview èšç„¦åœ¨ **ã€Œé¢è¯•å¤ç›˜åˆ†æã€** è¿™ä¸€æ ¸å¿ƒåœºæ™¯ï¼Œä¸»è¦åŠŸèƒ½è§„åˆ’å¦‚ä¸‹ï¼š

### 1ï¸âƒ£ é¢è¯•åˆ†æï¼ˆInterview Analysisï¼‰

- ğŸ™ éŸ³é¢‘ / è§†é¢‘ä¸Šä¼ ä¸è‡ªåŠ¨è½¬å†™  
- ğŸ§© ç»“æ„åŒ–æ‹†è§£é¢è¯•è¿‡ç¨‹ï¼ˆé—®é¢˜ â†’ å›ç­” â†’ è¿½é—® â†’ è¯„ä»·ï¼‰

### 2ï¸âƒ£ QA æŠ½å–ï¼ˆQuestionâ€“Answer Extractionï¼‰

- è‡ªåŠ¨è¯†åˆ«ï¼š
  - é¢è¯•å®˜é—®é¢˜
  - å€™é€‰äººå›ç­”
  - è¿½é—®é“¾è·¯
- å½¢æˆç»“æ„åŒ– QA æ•°æ®ï¼Œæ”¯æŒåç»­åˆ†æä¸æ£€ç´¢

### 3ï¸âƒ£ æ™ºèƒ½è¿½é—®ï¼ˆAI Follow-upï¼‰

- åŸºäºåŸå§‹å›ç­”ï¼Œæ¨¡æ‹Ÿé¢è¯•å®˜è§†è§’ï¼š
  - ç»™å‡ºå¯èƒ½çš„è¿½é—®æ–¹å‘
  - æ ‡æ³¨å›ç­”ä¸­çš„è–„å¼±ç‚¹
  - å¸®åŠ©ç”¨æˆ·ç†è§£ã€Œä¸ºä»€ä¹ˆä¼šè¢«è¿½é—®ã€

### 4ï¸âƒ£ æ™ºèƒ½å¤ç›˜ï¼ˆSmart Debriefï¼‰

- ä»å¤šä¸ªç»´åº¦ç»™å‡ºå¤ç›˜åˆ†æï¼š
  - æŠ€æœ¯æ·±åº¦
  - è¡¨è¾¾æ¸…æ™°åº¦
  - é€»è¾‘ç»“æ„
  - é£é™©ç‚¹ / æ¨¡ç³Šç‚¹
- æ”¯æŒã€Œæ”¹å†™å»ºè®® / æ›´ä¼˜å›ç­”ç¤ºä¾‹ã€

> é•¿æœŸç›®æ ‡ï¼šæ„å»º**ä¸ªäººé¢è¯•èƒ½åŠ›ç”»åƒ**ï¼Œè®©ç³»ç»Ÿâ€œè¶Šæ¥è¶Šæ‡‚ä½ â€


## åŠŸèƒ½äº®ç‚¹
- **é¢è¯•èµ„äº§ç®¡ç†**ï¼šä¾§è¾¹æ é›†ä¸­ç®¡ç†å¤šåœºé¢è¯•ï¼Œæ”¯æŒæœç´¢ã€é‡å‘½åã€åˆ é™¤ã€çŠ¶æ€è·Ÿè¸ªï¼ˆå¾…ä¸Šä¼ /åˆ†æä¸­/å·²å®Œæˆç­‰ï¼‰ã€‚
- **å¤šæ ¼å¼ä¸Šä¼ ä¸è‡ªåŠ¨è½¬å†™**ï¼šå¯ä¸Šä¼  MP3/WAV/M4A/MP4/TXTï¼ˆâ‰¤200â€¯MBï¼‰ï¼Œåç«¯è‡ªåŠ¨è½ç›˜è‡³ `backend/uploads/`ï¼Œå¹¶è°ƒç”¨ SiliconFlow APIï¼ˆæˆ– mockï¼‰ç”Ÿæˆæ–‡å­—ç¨¿ã€‚
- **AI åˆ†ææŠ¥å‘Š**ï¼š`AnalysisReport` ç»„ä»¶æä¾›é—®ç­”å¾—åˆ†ã€ä¼˜åŠ£åŠ¿ã€é€šè¿‡æ¦‚ç‡ã€æ”¹è¿›å»ºè®®ç­‰ç»“æ„åŒ–è§†å›¾ï¼Œæ”¯æŒç»§ç»­ä¼˜åŒ–å›ç­”/å¯¼å‡ºç­‰æ“ä½œã€‚
- **ä¸Šä¸‹æ–‡èŠå¤©åŠ©æ‰‹**ï¼š`ChatArea`ã€`MessageList` ç»“åˆ DashScope LLMï¼Œä¸ºæ¯åœºé¢è¯•æä¾›å¸¦ä¸Šä¸‹æ–‡çš„è¿½é—®ä¸æ”¹å†™å»ºè®®ã€‚
- **æŒä¹…åŒ–ç­–ç•¥**ï¼šå‰ç«¯ localStorage åšå¿«é€Ÿç¼“å­˜ï¼Œåç«¯ `StorageService` ä»¥ JSON å­˜ç›˜ï¼Œå¯æ— ç¼åˆ‡æ¢åˆ° Supabaseï¼ˆschema è§ `backend/supabase_schema.sql`ï¼‰ã€‚

## æŠ€æœ¯æ ˆ
| æ¨¡å— | æŠ€æœ¯ | è¯´æ˜ |
| --- | --- | --- |
| å‰ç«¯ | React 18 + TypeScript + Vite 6 + Tailwind v4 + Radix UI + lucide-react + sonner | é‡‡ç”¨å‡½æ•°å¼ç»„ä»¶ + Hooksï¼Œ`vite.config.ts` é€šè¿‡ alias å›ºå®šä¾èµ–ç‰ˆæœ¬ã€‚ |
| åç«¯ | FastAPI + Pydantic v2 + Uvicorn + aiofiles + requests | API å…¥å£ `backend/app/main.py`ã€‚`StorageService` è´Ÿè´£æœ¬åœ° JSON å­˜å‚¨ï¼Œåç»­å¯æ›¿æ¢ä¸º Supabaseã€‚ |
| AI èƒ½åŠ› | DashScopeï¼ˆOpenAI å…¼å®¹ï¼‰+ SiliconFlow/SenseVoice è½¬å†™ | `src/utils/mockAIResponses.ts` æ”¯æŒæµè§ˆå™¨ç›´è¿ + Mockï¼Œåç«¯ `LLMService` ç”¨äºæœåŠ¡ç«¯åˆ†æã€‚ |
| ä»»åŠ¡/é˜Ÿåˆ— | Celery + Redisï¼ˆå·²åˆ—å…¥ä¾èµ–ï¼Œå¾…æ¥å…¥ï¼‰ | ç›®å‰è½¬å†™/åˆ†æåŒæ­¥æ‰§è¡Œï¼Œå¯æŒ‰ `BACKEND_IMPLEMENTATION_PLAN.md` ä¸­çš„è·¯çº¿è½åœ°ã€‚ |

## ä»“åº“ç»“æ„ï¼ˆæˆªå–å¸¸ç”¨ç›®å½•ï¼‰
```
InterReview/
â”œâ”€â”€ src/                     # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ App.tsx              # é¡µé¢éª¨æ¶ä¸çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ components/          # UI ç»„ä»¶ï¼ˆSidebarã€UploadAreaã€AnalysisReportã€Chatâ€¦ï¼‰
â”‚   â”œâ”€â”€ utils/               # ä¸åç«¯äº¤äº’/LLM/æ—¶é—´æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ API.md               # è¯¦ç»† API è§„åˆ’æ–‡æ¡£
â”‚   â””â”€â”€ â€¦                    # Attributionsã€IMPROVEMENTS ç­‰è¡¥å……èµ„æ–™
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py          # FastAPI å…¥å£ï¼ŒCORS é…ç½®ã€è·¯ç”±æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ api/v1/          # users / interviews / upload è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ models/          # User/Interview/Analysis Pydantic Schema
â”‚   â”‚   â””â”€â”€ services/        # StorageServiceã€TranscriptionServiceã€LLMService
â”‚   â”œâ”€â”€ uploads/             # ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶
â”‚   â”œâ”€â”€ data/                # per-user JSON æ•°æ®ï¼ˆuser/interviews/messages/analysisï¼‰
â”‚   â”œâ”€â”€ README_API.md        # ç²¾ç®€ API é€ŸæŸ¥
â”‚   â”œâ”€â”€ SETUP_AND_TEST.md    # åç«¯éƒ¨ç½²+æµ‹è¯•æŒ‡å—
â”‚   â””â”€â”€ supabase_schema.sql  # å¯é€‰ Supabase æ–¹æ¡ˆ
â”œâ”€â”€ llm.py / transcribe.py   # è°ƒç”¨ DashScope / SiliconFlow çš„è„šæœ¬æ ·ä¾‹
â”œâ”€â”€ vite.config.ts           # Vite é…ç½®ï¼ˆå« aliasï¼‰
â”œâ”€â”€ package.json / package-lock.json
â””â”€â”€ README.md                # å½“å‰æ–‡æ¡£
```

## æœ¬åœ°å¼€å‘æŒ‡å—

### 1. ç¯å¢ƒè¦æ±‚
- Node.js **18.18+ï¼ˆæ¨è 20 LTSï¼‰**ã€npm 10ã€‚
- Python **3.10+**ï¼Œå»ºè®®ä½¿ç”¨ `python -m venv` åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆä»“åº“å†…å·²æœ‰ `.venv` / `.venv_new`ï¼‰ã€‚
- å¯é€‰ï¼šRedis 7ï¼ˆåç»­ Celery ä»»åŠ¡é˜Ÿåˆ—ä½¿ç”¨ï¼‰ã€Supabase è´¦å·ï¼ˆå¦‚éœ€äº‘ç«¯å­˜å‚¨ï¼‰ã€‚

### 2. å®‰è£…ä¾èµ–
```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# å®‰è£…åç«¯ä¾èµ–
cd backend
python -m venv .venv        # å¦‚å·²æœ‰å¯è·³è¿‡
source .venv/bin/activate   # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

### 3. ç¯å¢ƒå˜é‡
åˆ›å»º `.env`ï¼ˆæ ¹ç›®å½•å³å¯è¢«å‰åç«¯ã€è„šæœ¬åŠ è½½ï¼‰ã€‚å¯ä»¥å‚è€ƒ `.env.example`ï¼ŒæŠŠå¯†é’¥æ›¿æ¢ä¸ºè‡ªå·±çš„å€¼å†é‡å‘½åä¸º `.env`ã€‚å¸¸ç”¨ Key å¦‚ä¸‹ï¼š

| å˜é‡ | ç”¨é€” | å¤‡æ³¨ |
| --- | --- | --- |
| `VITE_API_BASE` | å‰ç«¯è°ƒç”¨åç«¯çš„åŸºç¡€åœ°å€ | é»˜è®¤ä¸º `/api`ï¼ˆåŒåŸŸåä»£ï¼‰ï¼Œæœ¬åœ°å¼€å‘å¯åœ¨ `.env` ä¸­æ”¹æˆ `http://127.0.0.1:8000`ã€‚ |
| `DASHSCOPE_API_KEY` | DashScope LLM çš„å”¯ä¸€ Key | Vite å·²é…ç½®æš´éœ²åˆ°å‰ç«¯ï¼ŒåŒæ—¶åç«¯ `LLMService` / `llm.py` ä¹Ÿè¯»å–è¯¥å€¼ã€‚ |
| `SILICONFLOW_API_KEY` | SenseVoice è½¬å†™ Key | è¢«åç«¯ `TranscriptionService`ã€`transcribe.py` ä½¿ç”¨ã€‚ |
| `MOCK_TRANSCRIPTION` | è½¬å†™ Mock å¼€å…³ | ä»»æ„ truthy å€¼ä»£è¡¨å¼ºåˆ¶èµ°æœ¬åœ°ç¤ºä¾‹ï¼Œä¾¿äºå¼€å‘ã€‚ |
| `UPLOAD_DIR` | å¯é€‰ï¼Œé»˜è®¤ `./uploads` | é€šè¿‡ `backend/app/config.py` è¦†ç›–ã€‚ |
| `REDIS_URL` | Celery/ä»»åŠ¡é˜Ÿåˆ—é…ç½® | å½“å‰æœªä½¿ç”¨ï¼Œé¢„ç•™ã€‚ |
| `SECRET_KEY` | JWT/Session ç”¨ï¼Œé»˜è®¤å ä½ | éƒ¨ç½²åŠ¡å¿…ä¿®æ”¹ã€‚ |
| `SUPABASE_URL` / `SUPABASE_ANON_KEY` | Supabase è¿æ¥å‚æ•° | `backend/test_supabase.mjs` ä¼šè¯»å–éªŒè¯ã€‚ |
| `PASSLIB_SCHEME`ï¼ˆå¯é€‰ï¼‰ | æ§åˆ¶å¯†ç å“ˆå¸Œæ–¹æ¡ˆ | é»˜è®¤ `pbkdf2_sha256`ï¼Œå¦‚éœ€è‡ªå®šä¹‰å¯åœ¨åç«¯ç»Ÿä¸€é…ç½®ã€‚ |

> Key ç”³è¯·å…¥å£ï¼š
> - DashScopeï¼šhttps://dashscope.console.aliyun.com/apiKey
> - SiliconFlowï¼šhttps://cloud.siliconflow.cn/me/account/ak


### 4. å¯åŠ¨æœåŠ¡
```bash
# ç»ˆç«¯ 1ï¼šå¯åŠ¨ FastAPI
cd backend
source .venv/bin/activate
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
# Swagger: http://localhost:8000/docs

# ç»ˆç«¯ 2ï¼šå¯åŠ¨å‰ç«¯
npm run dev
# æµè§ˆå™¨é»˜è®¤æ‰“å¼€ http://localhost:3000
```

### 5. å¸¸ç”¨è„šæœ¬
| å‘½ä»¤ | æè¿° |
| --- | --- |
| `npm run dev` | å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨ã€‚ |
| `npm run build` | ç”Ÿæˆç”Ÿäº§æ„å»ºï¼ˆè¾“å‡ºåœ¨ `build/`ï¼‰ã€‚ |
| `python -m app`ï¼ˆbackendï¼‰ | å¦ä¸€ç§åç«¯å¯åŠ¨æ–¹å¼ã€‚ |
| `pytest`ï¼ˆbackendï¼‰ | è¿è¡Œ FastAPI/Pydantic å±‚çš„å•æµ‹ï¼ˆå‡†å¤‡ä¸­ï¼Œå¯åœ¨ `backend/tests/` è¡¥å……ï¼‰ã€‚ |
| `node backend/test_supabase.mjs` | éªŒè¯ `.env` ä¸­çš„ Supabase Key æ˜¯å¦å¯ç”¨ã€‚ |
| `python llm.py` / `python transcribe.py` | ç‹¬ç«‹æµ‹è¯• DashScope/SiliconFlowã€‚ |

## æ ¸å¿ƒæ¨¡å—ä¸æ•°æ®æµ

### å‰ç«¯ï¼ˆ`src/`ï¼‰
- **çŠ¶æ€é›†ä¸­ç®¡ç†**ï¼š`App.tsx` è´Ÿè´£ç™»å½•æ€ã€é¢è¯•åˆ—è¡¨ã€èŠå¤©è®°å½•ã€è§†å›¾æ¨¡å¼ï¼Œåˆ©ç”¨ `localStorage` åšåˆ†ç”¨æˆ·ç¼“å­˜ã€‚
- **ç»„ä»¶åˆ†å±‚**ï¼š
  - `Sidebar`ï¼šå±•ç¤ºé¢è¯•åˆ—è¡¨ã€æœç´¢ã€æ–°å»ºé¢è¯•ã€é€€å‡ºç™»å½•ã€‚
  - `UploadArea`ï¼šæ‹–æ‹½/ç‚¹å‡»ä¸Šä¼ ã€æ–‡ä»¶æ ¡éªŒã€è¿›åº¦åé¦ˆã€è‡ªåŠ¨è§¦å‘è½¬å†™ã€‚
  - `AnalysisReport` & `ChatReport`ï¼šé¢è¯•æŠ¥å‘Šã€é—®ç­”æŠ˜å ã€å¯¼å‡ºå ä½æ“ä½œã€‚
  - `ChatArea`ã€`MessageList`ã€`TypingIndicator`ï¼šAI äº¤äº’ä½“éªŒã€‚
  - `LoginPage`ã€`DeleteConfirmDialog`ã€`AnalyzingLoader` ç­‰è¾…åŠ©ç»„ä»¶ã€‚
- **åç«¯äº¤äº’**ï¼š`src/utils/backend.ts` å°è£… REST APIï¼ˆç”¨æˆ·ã€é¢è¯•ã€æ¶ˆæ¯ã€åˆ†æã€ä¸Šä¼ ã€è½¬å†™ï¼‰ï¼Œ`src/utils/mockAIResponses.ts` è´Ÿè´£ LLM è°ƒç”¨ä¸ fallbackã€‚

### åç«¯ï¼ˆ`backend/app`ï¼‰
- `main.py`ï¼šFastAPI å®ä¾‹ã€CORSã€å¥åº·æ£€æŸ¥ã€ç›®å½•åˆå§‹åŒ–ã€‚
- `api/v1/users.py`ï¼šæ³¨å†Œç”¨æˆ·ã€è¯»å†™é¢è¯•/æ¶ˆæ¯/åˆ†æ JSONã€‚
- `api/v1/interviews.py`ï¼šé¢è¯• CRUDã€è§¦å‘è½¬å†™ã€è¯»å–è½¬å†™å†…å®¹ã€‚
- `api/v1/upload.py`ï¼šæ ¡éªŒ/ä¿å­˜ä¸Šä¼ æ–‡ä»¶ã€è‡ªåŠ¨è°ƒç”¨ `TranscriptionService`ã€‚
- `services/storage_service.py`ï¼šä»¥ `backend/data/<userId>/` ä¸ºå•ä½ä¿å­˜ `user.json`ã€`interviews.json`ã€`messages.json`ã€`transcripts.json` ç­‰ã€‚
- `services/transcription_service.py`ï¼šå°è£… SiliconFlow è¯·æ±‚ï¼Œå¯åˆ‡æ¢æˆ mockã€‚
- `services/llm_service.py`ï¼šæœåŠ¡ç«¯è°ƒç”¨ DashScope ç”Ÿæˆåˆ†ææŠ¥å‘Š/é—®ç­”å»ºè®®ã€‚

### æ•°æ®æµï¼ˆå…¸å‹è·¯å¾„ï¼‰
```
ç™»å½• -> registerUser() -> backend/users/register -> backend/data/<user>/user.json
|
|-- æ–°å»ºé¢è¯• -> ä¿å­˜åœ¨ localStorage ä¸ backend/users/{id}/interviews
|
|-- ä¸Šä¼ æ–‡ä»¶ -> /upload/interview/{user}/{interview} -> uploads/<user>/<file>.ext
|      |-- è‡ªåŠ¨è½¬å†™ -> SiliconFlow -> transcripts.json + interview.transcriptText
|
|-- AI åˆ†æ -> (è®¡åˆ’) /interviews/{id}/transcribe + LLMService.analyze_interview -> analysis.json
|
|-- ä¸åŠ©æ‰‹èŠå¤© -> chatWithLLM() æˆ–åç«¯ä»£ç† -> messages.json (per interview)
```

## API å¿«é€Ÿé€ŸæŸ¥
| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
| --- | --- | --- |
| `GET /healthz` | å¥åº·æ£€æŸ¥ã€‚ |
| `POST /users/register` | æ³¨å†Œ/æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼ˆæ— é‰´æƒï¼Œä½¿ç”¨ `userId` ä½œä¸ºé”®ï¼‰ã€‚ |
| `GET /users/{user_id}` | è·å–ç”¨æˆ·æ¡£æ¡ˆã€‚ |
| `GET /users/{user_id}/interviews` / `PUT ...` | æ‹‰å–/ä¿å­˜é¢è¯•åˆ—è¡¨ã€‚ |
| `GET /users/{user_id}/messages` / `PUT ...` | æ‹‰å–/ä¿å­˜èŠå¤©è®°å½•ã€‚ |
| `GET /users/{user_id}/analysis` / `PUT ...` | æ‹‰å–/ä¿å­˜åˆ†æç»“æœã€‚ |
| `POST /interviews/?user_id=` | åˆ›å»ºé¢è¯•ã€‚ |
| `GET /interviews/{interview_id}?user_id=` | è·å–é¢è¯•è¯¦æƒ…ã€‚ |
| `PATCH /interviews/{interview_id}?user_id=` | æ›´æ–°çŠ¶æ€/ä¿¡æ¯ã€‚ |
| `DELETE /interviews/{interview_id}?user_id=` | åˆ é™¤é¢è¯•ã€‚ |
| `POST /upload/interview/{user}/{interview}` | ä¸Šä¼ éŸ³/è§†é¢‘/æ–‡æœ¬æ–‡ä»¶ï¼Œè‡ªåŠ¨è½ç›˜ä¸è½¬å†™ã€‚ |
| `POST /interviews/{id}/transcribe?user_id=` | ä¸»åŠ¨è§¦å‘è½¬å†™ï¼Œå¹¶ä¿å­˜ç»“æœã€‚ |
| `GET /interviews/{id}/transcription?user_id=` | è·å–æœ€æ–°è½¬å†™æ–‡æœ¬ï¼ˆå«å…œåº•é€»è¾‘ï¼‰ã€‚ |

æ›´è¯¦ç»†çš„å­—æ®µã€ç¤ºä¾‹å’Œæœªæ¥è§„åˆ’è¯·æŸ¥é˜…ï¼š
- `backend/README_API.md`ï¼šå½“å‰å®ç°çš„æ¥å£ä¸ cURL ç¤ºä¾‹ã€‚
- `src/API.md`ï¼šå®Œæ•´çš„ v1 è®¾è®¡ç¨¿ï¼ŒåŒ…å«è®¤è¯ã€å¯¼å‡ºã€ç»Ÿè®¡ç­‰æ‰©å±•æ¥å£ã€‚

## æ•°æ®ä¸æ–‡ä»¶å­˜å‚¨
- **ç”¨æˆ·æ•°æ®**ï¼š`backend/data/<userId>/user.json`ã€`interviews.json`ã€`messages.json`ã€`analysis.json`ã€`transcripts.json`ã€‚
- **ä¸Šä¼ æ–‡ä»¶**ï¼š`backend/uploads/<userId>/<uuid>.<ext>`ï¼Œæ–‡ä»¶ååœ¨å“åº”ä¸­è¿”å›ç»™å‰ç«¯ã€‚
- **æ—¥å¿—**ï¼šå¯å°† `uvicorn` è¾“å‡ºé‡å®šå‘è‡³ `backend/backend.log`ï¼ˆä»“åº“å·²æœ‰ç¤ºä¾‹ï¼‰ã€‚
- **Supabase**ï¼š`backend/supabase_schema.sql` æä¾›è¿ç§»è„šæœ¬ï¼›`backend/test_supabase.mjs` éªŒè¯è¿æ¥ã€‚å‡†å¤‡åˆ‡æ¢æ—¶éœ€è¦åŒæ­¥æ›´æ–° `StorageService`ã€‚

## åä½œè§„èŒƒ
1. **ä»»åŠ¡åˆ†é…**ï¼šåœ¨ Issue/Story ä¸­é“¾åˆ° `src/IMPROVEMENTS.md`, `BACKEND_IMPLEMENTATION_PLAN.md` ä¸­çš„éœ€æ±‚ï¼Œç¡®ä¿èŒƒå›´æ¸…æ™°ã€‚
2. **åˆ†æ”¯å‘½å**ï¼š`feat/<scope>`ã€`fix/<bug>`ã€`chore/<task>`ã€`docs/<topic>`ï¼Œä¿æŒå…¨å°å†™è¿å­—ç¬¦ã€‚
3. **æäº¤ä¿¡æ¯**ï¼šéµå¾ª `type(scope): summary`ï¼ˆä¾‹å¦‚ `feat(chat): add typing indicator state`ï¼‰ï¼Œä¾¿äºåç»­ç”Ÿæˆå˜æ›´æ—¥å¿—ã€‚
4. **ä»£ç é£æ ¼**ï¼š
   - TypeScriptï¼šä¿æŒä¸¥æ ¼ç±»å‹ã€é¿å…ä½¿ç”¨ `any`ï¼Œç»„ä»¶å°½é‡æ‹†åˆ†è‡³ `src/components`ã€‚
   - Reactï¼šä¼˜å…ˆä½¿ç”¨å‡½æ•°ç»„ä»¶ + Hooksï¼›æ¶‰åŠå¤æ‚é€»è¾‘æ—¶é€‚åº¦æ·»åŠ æ³¨é‡Šï¼ˆç¤ºä¾‹è§ `UploadArea`ï¼‰ã€‚
   - Pythonï¼šéµå¾ª Pydantic/PEP8ï¼ŒAPI è¿”å›ç»Ÿä¸€ `{ success, data, message }` ç»“æ„ã€‚
5. **æäº¤å‰è‡ªæŸ¥**ï¼š
   - `npm run build`ï¼ˆç¡®ä¿ TS/JS é€šè¿‡ç¼–è¯‘ï¼‰ã€‚
   - `pytest backend`ï¼ˆå¦‚æ— æµ‹è¯•å¯è‡³å°‘æ‰§è¡Œ `uvicorn` æ‰‹åŠ¨éªŒè¯å…³é”®æ¥å£ï¼‰ã€‚
   - å¦‚æ–°å¢ç¯å¢ƒå˜é‡/é…ç½®ï¼ŒåŠ¡å¿…æ›´æ–° README & `.env.example`ã€‚
   - UI æ”¹åŠ¨è¯·åœ¨ PR ä¸­é™„æˆªå›¾æˆ– Loomã€‚
6. **Review æµç¨‹**ï¼šè‡³å°‘ 1 ååŒä¼´ Reviewï¼Œé‡ç‚¹å…³æ³¨ API å…¼å®¹æ€§ã€å¯†é’¥ç®¡ç†ã€æ€§èƒ½ï¼ˆæ–‡ä»¶ä¸Šä¼ /LLM è°ƒç”¨ï¼‰ç­‰é£é™©ç‚¹ã€‚

## æµ‹è¯•ä¸æ’é”™
- **LLM Key ç¼ºå¤±**ï¼šå‰ç«¯ console ä¼šæç¤º â€œæœªæ£€æµ‹åˆ° DASHSCOPE_API_KEYï¼Œä½¿ç”¨æœ¬åœ° Mockâ€ï¼Œå¯æ”¾å¿ƒç”¨äº UI è”è°ƒã€‚
- **è½¬å†™å¤±è´¥**ï¼š`TranscriptionService` ä¼š fallback åˆ° mockï¼ŒæŸ¥çœ‹åç«¯æ—¥å¿—ä¸­ `[Upload][Transcribe]` ç›¸å…³è¾“å‡ºå®šä½åŸå› ã€‚
- **æ–‡ä»¶è¿‡å¤§/æ ¼å¼é”™è¯¯**ï¼š`UploadArea` å’Œ `/upload` å‡ä¼šæ ¡éªŒï¼ˆ200â€¯MBã€æ‰©å±•å/MIMEï¼‰ï¼Œé”™è¯¯ä¿¡æ¯ä¼šé€šè¿‡ `toast` è¿”å›ã€‚
- **æ•°æ®æœªæŒä¹…åŒ–**ï¼šç¡®è®¤ `backend/data/<userId>/` æ˜¯å¦æœ‰å†™æƒé™ï¼›Docker/éƒ¨ç½²ç¯å¢ƒéœ€æŒ‚è½½æŒä¹…å·æˆ–åˆ‡æ¢åˆ° Supabaseã€‚
- **Supabase éªŒè¯**ï¼šè¿è¡Œ `node backend/test_supabase.mjs`ï¼Œè‹¥æŠ¥é”™è¯·æ£€æŸ¥ `.env`ã€ç½‘ç»œå’Œ RLS ç­–ç•¥ã€‚

## Roadmap / å¾…åŠ
- [ ] ä¼˜åŒ–äº¤äº’ä½“éªŒï¼šå¢å¼ºä¸Šä¼ /è½¬å†™/åˆ†æè¿›åº¦åé¦ˆã€é”™è¯¯æç¤ºä¸é‡è¯•æµç¨‹ï¼Œå‡å°‘ç”¨æˆ·è¿·æƒ‘ã€‚
- [x] è§„åˆ’ LangGraph å¤š Agent æ¶æ„ï¼ˆè§ä¸‹æ–‡ï¼‰ï¼Œä¸ºåç»­æ™ºèƒ½å¯¼å‘äº¤äº’åšå‡†å¤‡ã€‚
- [ ] åç«¯å¼‚æ­¥åŒ–ï¼šè½åœ° Celery + Redisï¼Œé¿å…ä¸Šä¼ /åˆ†æé˜»å¡è¯·æ±‚ï¼ˆè¯¦è§ `BACKEND_IMPLEMENTATION_PLAN.md`ï¼‰ã€‚
- [ ] çœŸæ­£çš„åˆ†æè½åœ°ï¼š`LLMService.analyze_interview` ä¸å‰ç«¯ report/å¯¼å‡ºæ‰“é€šã€‚
- [ ] ç”¨æˆ·è®¤è¯ï¼šæ¥å…¥ Supabase Auth or JWTï¼Œæ›¿æ¢ç›®å‰çš„ â€œuserId ç›´æ¥ä¼ å…¥â€ æ¨¡å¼ã€‚
- [ ] å¯¼å‡ºèƒ½åŠ›ï¼šå®è£… `ExportReportModal`ã€`ExportQuestionsModal`ï¼Œç”Ÿæˆ PDF/Markdownã€‚
- [ ] ç›‘æ§ä¸é…é¢ï¼šä¸º DashScope/SiliconFlow è°ƒç”¨å¢åŠ é™æµå’Œå‘Šè­¦ã€‚

## LangGraph å¤š Agent è§„åˆ’ï¼ˆèŠ‚é€‰ï¼‰
è¯¦è§ [`langgraph.md`](./langgraph.md)ï¼Œèšç„¦ä»¥ä¸‹ä¸»é¢˜ï¼š

1. **æ•´ä½“æ¶æ„**ï¼šPlanner / Transcription Analyzer / Insight Synthesizer / Action Coach / Conversation Agent çš„èŒè´£åˆ’åˆ†ã€è®°å¿†å±‚è®¾è®¡ã€å·¥å…·æ¥å£ã€‚
2. **Graph æµç¨‹**ï¼šä»å…¥å£èŠ‚ç‚¹åˆ°å›æ‰§èŠ‚ç‚¹çš„å¤šä»»åŠ¡å­å›¾ï¼Œæ”¯æŒä¸Šä¼ åˆ†æã€è¿½é—®ã€å¤šè½®æ›´æ–°ã€‚
3. **æ™ºèƒ½ç­–ç•¥**ï¼šåŠ¨æ€ Promptã€æ„å›¾åˆ†ç±»ä¸ Tool Routingã€Memory-aware å›å¤ã€è´¨é‡æ§åˆ¶ä¸ fallbackã€‚
4. **å®æ–½è®¡åˆ’**ï¼šåŸå‹ â†’ æ™ºèƒ½å¢å¼º â†’ äº§å“åŒ–ä¸‰é˜¶æ®µè·¯çº¿ï¼Œæ˜ç¡®æ¯ä¸€æ­¥çš„ç›®æ ‡ã€‚
5. **é£é™©ä¸éªŒæ”¶**ï¼šAPI æˆæœ¬ã€ä¸Šä¸‹æ–‡é•¿åº¦ã€å¯é æ€§ã€å®‰å…¨éšç§ç­‰é£é™©åŠæŒ‡æ ‡ï¼ˆå“åº”æ—¶é—´ã€åˆè§„ç‡ã€æ»¡æ„åº¦ç­‰ï¼‰ã€‚

## æ›´å¤šèµ„æ–™
- `src/CHAT_FEATURE.md`ï¼šèŠå¤©ä½“éªŒä¸éœ€æ±‚æ‹†è§£ã€‚
- `src/IMPROVEMENTS.md`ã€`src/FINAL_REVIEW.md`ï¼šUI/UX å¾…ä¼˜åŒ–äº‹é¡¹ã€‚
- `BACKEND_IMPLEMENTATION_PLAN.md`ã€`backend/CORE_IMPLEMENTATION_SUMMARY.md`ï¼šç³»ç»Ÿçº§çš„åç«¯æ¼”è¿›è®¡åˆ’ã€‚
- `Attributions.md`ï¼šUI å‚è€ƒæ¥æºåŠç‰ˆæƒè¯´æ˜ã€‚

æ¬¢è¿éšæ—¶åœ¨ Issue ä¸­æå‡ºé—®é¢˜æˆ–æƒ³æ³•ï¼Œä¸€èµ·æŠŠ InterReview æ‰“é€ æˆçœŸæ­£å¥½ç”¨çš„é¢è¯•å¤ç›˜åŠ©æ‰‹ ğŸš€
